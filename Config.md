# CDAS Configuration File

CDAS requires a configuration file at run time, provided by the -c flag on the command line. There are several sample configuration files in the [sample_configs](cdas/sample_configs) folder.

```
$ python -m cdas -c config.json
```

The config file controls whether the data used in the simulator is generated randomly or pulled from default data. It specifies which files to use for data sets and randomization seeding, as well as the settings for the simulation itself. 

The CDAS configuration file has five sections: "agents", "countries", "defend", "simulation", and "output". 

## Configuration

This document descibes the variables in the configuraiton file.

### Agents Configuration

This section defines the configuration for "agents" or threat actors in the simulation. 

```
    "agents": {
        "randomize_threat_actors": true,
        "random_variables": {
            "actor_name_1": "data/personality_traits.txt",
            "actor_name_2": "data/disney_names.txt",
            "num_agents": 5
        }
    },
```

- randomize_threat_actors
    - True:  generate fake APT profiles
    - False: use APT profiles from the default data set
- random_variables (used if the "randomize_threat_actors" variable is true)
    - actor_name_1 - list of word choices for the first word of the APT actor name
    - actor_name_2 - list of word choices for the second word of the APT actor name
    - num_agents - number of fake APT profiles to generate

### Countries Configuration

This section defines the configuration for the geopolitical context component of the simulator.

The coumtries section of the configuration file looks like this:

```
    "countries": {
        "randomize": true,
        "random_vars": {
            "num_countries": 200
        }
    },
```

- randomize
    - True: the simulator generates randomized countries and their associated attributes
    - False: the simulator imports default country data
- random_vars
    - num_countries - the nuber of countries for which the simulator should create fake data; used if the "randomize" variable is true

### Defend Configuration

This section defines the variables for the random creation of defending organizations. There is not a default (non-random) set of defenders available, though users can provide their own set in the input folder to CDAS.

```
"defenders": {
    "number_per_country": 1,
    "org_names": "data/organization_names.txt",
    "sectors": "ANY",
    "countries": "ANY",
    "allow_defense": false
},
```

- number_per_country: number of defending organizations to create per country in the simulation
- org_names: a file containing a list of potential names for defending organizations
- sectors: allows for limiting defenders to certain sectors
    - "ANY" - choose any sector from the default set (provided in [STIX Vocab](cdas/assets/stix_vocab.json))
    - ["sector1", "sector2", "etc"] - a list of sectors (strings)
- countries: allows for limiting defenders to certain countries
    - "ANY" - choose any country from those that have been generated or loaded from the input folder
    - ["country 1", "country 2", "etc"] - a list of country names (strings)
- allow_defense:
    - true: defender makes changes to its network during the simulation
    - false: defender does make changes to its network during the simulation

### Simulation Configuration

This section defines the variables running the simulation and generating events.

```    
"simulation": {
    "number_of_rounds": 5,
    "time_range": [
        "2017-08-01",
        "2020-08-01"
    ]
},
```

- number_of_rounds - Number of times to simulate events. Each threat actor has an opportunity for one action per round. For example, if there are 5 threat actors and 10 rounds, there will be a total of 50 "events" ("sightings" in STIX, and "reports" in PDF).
- time_range - time window over which to space cyber events. Format is is list with start then end date in YYYY-MM-DD format. 

### Output Configuration

This section defines the format, location, and filenames of files generated by CDAS.

```
    "output": {
        "input_directory": "",
        "output_directory": "cdas-output",
        "output_type_opts": [
            "json",
            "pdf",
            "html"
        ],
        "output_types": ["pdf"],
        "temp_directory": "cdas-temp"
    }
```

- input_directory - Used to provide custom data to CDAS for non-random data. Folders inside input_directory can be 'countries', 'threat-actors', 'malware', 'tools', or 'attack-patterns'. This can also included a "relationships.json" file. If there is no input folder, leave as an empty string (```"input_directory": "",```).
- output_directory - folder to store generated files
- output_type_opts - options available for the "output_types" variable
- output_types - one or more of the available "output_type_opts", separated by commas
    - ex) ```"output_types": ["pdf", "json"],``` would output both PDF and JSON files
- temp_directory - working files directory. Unlikely that this needs to be changed. This folder is deleted after successful completion of the simulation. CDAS will prompt to overwrite an existing folder with this path. 

## License

Copyright 2020 Carnegie Mellon University. See the [LICENSE.md](LICENSE.md) file for details.